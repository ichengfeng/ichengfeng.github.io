var header = document.querySelector('header');
var section = document.querySelector('section');

var requestURL = 'https://ichengfeng.github.io/com/json/meal.json';

var request = new XMLHttpRequest();
request.open('GET', requestURL,true);
request.responseType = 'json';
request.send();

request.onload = function() {
var Firearms = request.response;
populateHeader(Firearms);
show(Firearms);
}
function populateHeader(jsonObj) {
var myH1 = document.createElement('h1');
myH1.textContent = jsonObj['Name'];
header.appendChild(myH1);
 
var myPara = document.createElement('p');
myPara.textContent = jsonObj['Introduction'] ;
header.appendChild(myPara);
}

 
function show(jsonObj) {
var firearms = jsonObj['members'];
 
for(i = 0; i <firearms.length; i++) {
var myArticle = document.createElement('article');
var myH2 = document.createElement('h2');
var myPara1 = document.createElement('p');
var myPara2 = document.createElement('p');
var myList = document.createElement('ul');
 
myH2.textContent = firearms[i].name;
myPara1.textContent = firearms[i].Description;
myPara2.textContent = "枪支简介:";
 
 
var fiearmsType = firearms[i].fiearmsType;
for(j = 0; j < fiearmsType.length; j++) {
var listItem = document.createElement('li');
listItem.textContent = fiearmsType[j];
myList.appendChild(listItem);
}
 
myArticle.appendChild(myH2);
myArticle.appendChild(myPara1);
myArticle.appendChild(myPara2);
myArticle.appendChild(myList);
 
section.appendChild(myArticle);
}
}